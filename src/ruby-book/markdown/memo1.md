[qiitaの初心者歓迎！手と目で覚える正規表現入門・その１「さまざまな形式の電話番号を検索しよう」の内容をまとめたノート](https://qiita.com/jnchito/items/893c887fbf19e17d3ff9)

・正規表現とは

	文字列の集合を一つの文字列で表現する方法の一つ。
	パターンを指定して、文字列を効率よく検索・置換するためのミニ言語

・使用するツール
&emsp;作成した正規表現を確認するために「Rubular」というツールを使用する。
&emsp;http://rubular.com/ 

・メタ文字

	正規表現で特別な意味を持つ文字。
|メタ文字名|意味|
|:---:|:---:|
|\d|1個の半角数字(0123456789)を意味する。|

&emsp;例) 090-1234-5678    → \d\d\d-\d\d\d\d-\d\d\d\d と表すことができる。

```
# pythonのコード上で動かす場合
import re
text = "電話番号：090-3321-9999"

# findallメソッドはパターンにマッチする文字列をリスト型で返す。
# マッチする文字列が複数あれば全てをリストに入れて返す
re.findall(r'\d\d\d-\d\d\d\d-\d\d\d\d',text)    

# 結果：['090-3747-6265']

# マッチする文字列が複数ある場合
text = "電話番号：090-3747-6265 080-2222-1234"
re.findall(r'\d\d\d-\d\d\d\d-\d\d\d\d',text)
# 結果：['090-3747-6265', '080-2222-1234']
```
pythonでは正規表現のパターンの前に'r'を付けることを推奨している。
https://docs.python.org/ja/3/library/re.htmlの最初の方,「raw文字列記法〜〜〜」のあたりに記載されている。

```
# Rubyのコード上で動かす場合
text = <<-TEXT
電話番号：090-3321-9999
TEXT

# scanメソッドはパターンにマッチする文字列を配列で返す。
# マッチする文字列が複数あれば全てをリストに入れて返す
text.scan /\d\d\d-\d\d\d\d-\d\d\d\d/
# => ["03-1234-5678"]

# マッチする文字列が複数ある場合(//で囲まれた部分が正規表現となる)
text = '電話番号:090-3321-9999 080-2321-2302'
text.scan /\d\d\d-\d\d\d\d-\d\d\d\d/
# => ["090-3321-9999", "080-2321-2302"]
```

VScodeでは検索時に「.*」を押すとコード上の内容を正規表現で検索することができる。


・量指定子

	正規表現で文字の個数を限定するときは、{n,m}、{n}の形の「量指定子」を使う。
	{n,m}は「直前の文字がn個以上、m個以下」
	{n}は「直前の文字がちょうどn文字」の意味となる。
	様々な形式の電話番号に対応する正規表現を表すと下記のようになる。
```
    \d{2,5}-\d{1,4}-\d{1,4}
```


・[　]を使用する

	正規表現で検索したい電話番号一覧にーが付いたもの、( )が付いたものが
	それぞれ、存在する場合は[ ]の表現を使う。
	[AB]は「AまたはBのいずれか1文字」を表す。
	[ABC]は「AまたはBまたはCのいずれか1文字」を表す。
	ハイフンまたはカッコ(閉じ)はそれぞれ、[-(]と[-)]と表現できる。
	このことをふまえて正規表現を直すと。
```
    \d{2,5}[-(]\d{1,4}[-)]\d{1,4}
```

```
# 上記の表現をRubyで動かす場合

text = <<-TEXT
名前：伊藤淳一
電話：03(1234)5678
電話：090-1234-5678
電話：0795(12)3456
電話：04992-1-2345
住所：兵庫県西脇市板波町1-2-3
TEXT

puts "パターン1の結果:#{text.scan /\d{2,5}-\d{1,4}-\d{1,4}/}"
# =>　パターン1の結果:["090-1234-5678", "04992-1-2345"]

puts "パターン2の結果:#{text.scan /\d{2,5}[-(]\d{1,4}[-)]\d{1,4}/}"
# => パターン2の結果:["03(1234)5678", "090-1234-5678", "0795(12)3456", "04992-1-2345"]
```

・-(ハイフン)が持つ特別な意味
	-(ハイフン)は特別な意味を持ち、下記のように書くと「文字の範囲」を意味する。
	[a-z]と書くと
	「aまたはbまたはcまたはd、・・・z」の意味になる。
	[a-zA-Z0-9]と書くと、
	「aまたはbまたはcまたはd、・・・z、AまたはB・・・Z、0または・・9」の
	意味になる。
	
	